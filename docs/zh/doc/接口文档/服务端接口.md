# 服务端接口

## 管理端访问

### 服务别名

#### 创建服务别名

| 参数名          | 类型   | 描述                   | 必填 |
| --------------- | ------ | ---------------------- | ---- |
| alias           | string | 服务别名               | 是   |
| alias_namespace | string | 服务别名所属命名空间   | 是   |
| service         | string | 指向的服务名           | 是   |
| namespace       | string | 指向的服务所属命名空间 | 是   |
| comment         | string | 服务别名描述           | 否   |
| owners          | string | 负责人，请填入polaris  | 是   |

请求示例：

```
POST /naming/v1/service/alias
{
    "service":"...",
    "namespace":"...",
    "alias":"...",
    "alias_namespace":"...",
    "owners":"...",
    "comment":"..."
}
```

应答示例：

```
{
    "code":200000,
    "info":"...",
    "alias":{
        "service":"...",
        "namespace":"...",
        "alias":"...",
        "alias_namespace":"...",
        "owners":"...",
        "comment":"..."
    }
}
```



#### 修改服务别名

| 参数名          | 类型   | 描述                   | 必填 |
| --------------- | ------ | ---------------------- | ---- |
| alias           | string | 服务别名               | 是   |
| alias_namespace | string | 服务别名所属命名空间   | 是   |
| service         | string | 指向的服务名           | 是   |
| namespace       | string | 指向的服务所属命名空间 | 是   |
| comment         | string | 服务别名描述           | 否   |
| owners          | string | 负责人，请填入polaris  | 是   |

请求示例：

```
PUT /naming/v1/service/alias
{
    "service":"...",
    "namespace":"...",
    "alias":"...",
    "alias_namespace":"...",
    "owners":"...",
    "comment":"..."
}
```

应答示例：

```
{
    "code":200000,
    "info":"...",
    "alias":{
        "service":"...",
        "namespace":"...",
        "alias":"...",
        "alias_namespace":"...",
        "owners":"...",
        "comment":"..."
    }
}
```



#### 删除服务别名

| 参数名          | 类型   | 描述                  | 必填 |
| --------------- | ------ | --------------------- | ---- |
| alias           | string | 服务别名              | 是   |
| alias_namespace | string | 服务别名所属命名空间  | 是   |
| owners          | string | 负责人，请填入polaris | 是   |

请求示例：

```
POST /naming/v1/service/alias/delete
[
    {
        "alias":"...",
        "alias_namespace":"...",
        "owners":"..."
    }
]
```

应答示例：

```
{
    "code":200000,
    "info":"...",
    "size":1,
    "responses":[
        {
            "code":200000,
            "info":"...",
            "alias":{
                "alias":"...",
                "alias_namespace":"..."
            }
        }
    ]
}
```



#### 查询服务别名

GET /naming/v1/service/aliases

支持参数：

| 参数名          | 类型   | 描述                         | 必填 |
| --------------- | ------ | ---------------------------- | ---- |
| alias           | string | 服务别名                     | 否   |
| alias_namespace | string | 服务别名所属命名空间         | 否   |
| service         | string | 指向的服务名                 | 否   |
| namespace       | string | 指向的服务所属命名空间       | 否   |
| offset          | int    | 分页偏移，默认0              | 否   |
| limit           | int    | 分页大小，默认为100，最大100 | 否   |

回复示例：

| 参数名 | 类型   | 描述                                                         |
| ------ | ------ | ------------------------------------------------------------ |
| size   | uint32 | 本次查询返回的服务别名个数，例如查询命名空间为Production的服务别名，总数为1000，本次返回100条，则size为100 |
| info   | string | 返回信息                                                     |
| code   | uint32 | 六位返回码                                                   |
| amount | uint32 | 符合此查询条件的服务别名总数，例如查询命名空间为Production的服务别名，总数为1000，本次返回100条，则amount为1000 |

```
{
    "code":200000,
    "info":"...",
    "amount":1,
    "size":1,
    "aliases":[
        {
            "alias":"...",
            "alias_namespace":"...",
            "namespace":"...",
            "service":"...",
            "owners":"...",
            "comment":"...",
            "ctime":"...",
            "mtime":"..."
        }
    ]
}
```



## 客户端访问